<div class="container mt-4">

  <!-- Add Production -->
  <div class="card p-4 mb-4">
    <h5>Add Today's Production</h5>

    <div class="row g-3 align-items-center">
      <div class="col-md-6">
        <input type="number"
               class="form-control"
               placeholder="Enter produced trays"
               [(ngModel)]="productionQuantity">
      </div>

      <div class="col-md-3">
        <button class="btn btn-primary w-100"
                (click)="addProduction()">
          Add Production
        </button>
      </div>
    </div>
  </div>

  <!-- Today's Stock Summary -->
  <div class="row g-4">

    <div class="col-md-4">
      <div class="card stat-card bg-warning">
        <h6>Produced Today</h6>
        <h3>{{ produced }}</h3>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card stat-card bg-danger">
        <h6>Supplied Today</h6>
        <h3>{{ supplied }}</h3>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card stat-card bg-success">
        <h6>Remaining</h6>
        <h3>{{ remaining }}</h3>
      </div>
    </div>

  </div>

</div>

<!-- Stock History Table -->
<div class="card mt-5 p-4">
  <h5 class="mb-3">Stock History</h5>

  <div class="table-responsive">
    <table class="table table-hover align-middle">

      <thead class="table-dark">
        <tr>
          <th>Date</th>
          <th>Produced</th>
          <th>Supplied</th>
          <th>Remaining</th>
        </tr>
      </thead>

    <tbody>
  <tr *ngFor="let item of history">
    <td data-label="Date">{{ item.date }}</td>
    <td data-label="Produced">{{ item.produced }}</td>
    <td data-label="Supplied">{{ item.supplied }}</td>
    <td data-label="Remaining">
      <span
        [ngClass]="{
          'text-danger': (item.produced - item.supplied) < 1000,
          'text-success': (item.produced - item.supplied) >= 1000
        }">
        {{ item.produced - item.supplied }}
      </span>
    </td>
  </tr>

  <tr *ngIf="history.length === 0">
    <td colspan="4" class="text-center text-muted">
      No stock history found
    </td>
  </tr>
</tbody>

    </table>
  </div>
</div>
